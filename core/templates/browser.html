{% extends 'base.html' %}


{% block Start %}
<div class="min-h-screen bg-gray-900">


<div class="flex flex-col md:flex-row justify-between p-4">
    <div class="md:w-[30%]">
        <form method="get" class="flex items-end flex-col">
            <input autocomplete="on" value="{{search}}" class=" focus:bg-transparent active:bg-transparent bg-transparent text-white w-[100%] border-gray-500 rounded" type="search" name="search" placeholder="Search">
            <button type="submit" class="bg-blue-800 p-2 rounded mt-2 text-white px-4">Search</button>
        </form>
    </div>

<div class="w-[100%] flex flex-wrap justify-center md:justify-center p-4">
{% for items in  items %}
<div class="bg-white m-2 text-black font-semibold w-60 h-fit rounded overflow-hidden md:flex md:w-[28rem]">
    <div class="h-[12rem] w-[100%] md:h-[14rem] md:w-[15rem]">
        <img class="h-[100%] w-[100%] object-cover object-center" src="/media/{{items.image}}" alt="">
    </div>
    <div class="p-1.5 md:flex h-fit md:flex-col md:w-[60%] md:px-3 md:py-5">
        <p class="text-sm text-gray-600">{{items.updated_at}}</p>
        <div class="flex justify-between md:pt-5">
            <h4 class="text-lg md:text-xl">
                {{items.name}}
            </h4>
            <h1>
                ${{items.price}}
            </h1>
        </div>
        <div class="md:pt-3 flex justify-between">

            <div>
                <p class="text-green-900">{{items.catagories}}</p>
            </div>
        <div>
            {% if items.sold_out %}
            <p class="text-end text-red-500">Currently Unavailable</p>
            {% else %}
            <p class="text-end text-green-600">Available</p>
            {% endif %}
        </div>

        </div>
        <div class="flex justify-between items-center md:pt-5">

        {% if items.sold_out %}
          <button class=" bg-gray-600 px-3 md:px-4 md:py-2 text-white rounded py-1.5 text-l">Sold out</button>
        {% else %}
          <button class="bg-gray-950 px-3 md:px-4 md:py-2 text-white rounded py-1.5 text-l"><a href="{% url 'detail' items.id %}">Buy Now</a></button>
        {% endif %}

        {% if items.sold_out %}
          <p class="text-sm  text-gray-600 font-semibold">
           </p>
           {% else %}
           <p class="text-sm  text-gray-600 font-semibold">
            Free shipping
           </p>
        {% endif %}

        </div>


    </div>
</div>
{% empty %}
<p class="text-gray-500">Data not found</p>

{% endfor %}
</div>
</div>
</div>

{% endblock  %}
